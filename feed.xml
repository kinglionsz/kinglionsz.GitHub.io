<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
    <title>狮王李的AI世界</title>
    <link href="https://kinglionsz.GitHub.io/feed.xml" rel="self" />
    <link href="https://kinglionsz.GitHub.io" />
    <updated>2025-04-13T17:26:16+08:00</updated>
    <author>
        <name>狮王李</name>
    </author>
    <id>https://kinglionsz.GitHub.io</id>

    <entry>
        <title>hancheng-map.html</title>
        <author>
            <name>狮王李</name>
        </author>
        <link href="https://kinglionsz.GitHub.io/hancheng-maphtml.html"/>
        <id>https://kinglionsz.GitHub.io/hancheng-maphtml.html</id>

        <updated>2025-04-13T17:26:16+08:00</updated>
            <summary>
                <![CDATA[
                    &lt;!DOCTYPE html&gt; &lt;html lang="zh-CN"&gt; &lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;韩城历史地理可视化系统&lt;/title&gt; &lt;!-- 页面样式 --&gt; &lt;style&gt; /* 全局样式，去除 body 的默认边距和内边距，设置字体，隐藏溢出内容 */ body { margin: 0; padding: 0; font-family: Arial, sans-serif; overflow: hidden; } /* 头部样式，设置绝对定位，背景颜色，圆角，阴影等 */ #header { position: absolute; top: 10px; left: 10px; z-index: 100; background-color: rgba(255,255,255,0.9); padding:&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>&lt;!DOCTYPE html&gt;<br>&lt;html lang="zh-CN"&gt;<br>&lt;head&gt;<br>    &lt;meta charset="UTF-8"&gt;<br>    &lt;title&gt;韩城历史地理可视化系统&lt;/title&gt;<br>    &lt;!-- 页面样式 --&gt;<br>    &lt;style&gt;<br>        /* 全局样式，去除 body 的默认边距和内边距，设置字体，隐藏溢出内容 */<br>        body {<br>            margin: 0;<br>            padding: 0;<br>            font-family: Arial, sans-serif;<br>            overflow: hidden;<br>        }<br>        /* 头部样式，设置绝对定位，背景颜色，圆角，阴影等 */<br>        #header {<br>            position: absolute;<br>            top: 10px;<br>            left: 10px;<br>            z-index: 100;<br>            background-color: rgba(255,255,255,0.9);<br>            padding: 10px 15px;<br>            border-radius: 8px;<br>            box-shadow: 0 2px 5px rgba(0,0,0,0.2);<br>            max-width: 80%;<br>        }<br>        /* 头部标题样式 */<br>        #header h1 {<br>            margin: 0;<br>            font-size: 1.5em;<br>            color: #333;<br>        }<br>        /* 地图容器样式，设置绝对定位，覆盖整个页面 */<br>        #map-container { <br>            position: absolute;<br>            top: 0;<br>            left: 0;<br>            width: 100%;<br>            height: 100%;<br>            z-index: 0;<br>        }<br>        /* p5 画布样式，设置绝对定位，无鼠标事件 */<br>        #p5-canvas {<br>            position: absolute;<br>            top: 0;<br>            left: 0;<br>            z-index: 1;<br>            pointer-events: none;<br>        }<br>        /* 控制按钮容器样式，设置绝对定位，居中显示 */<br>        #controls {<br>            position: absolute;<br>            bottom: 20px;<br>            left: 50%;<br>            transform: translateX(-50%);<br>            z-index: 100;<br>            background-color: rgba(255,255,255,0.9);<br>            padding: 12px 15px;<br>            border-radius: 8px;<br>            box-shadow: 0 2px 5px rgba(0,0,0,0.2);<br>            display: flex;<br>            flex-wrap: wrap;<br>            justify-content: center;<br>            max-width: 90%;<br>        }<br>        /* 加载提示样式，设置绝对定位，居中显示 */<br>        #loading {<br>            position: fixed;<br>            top: 50%;<br>            left: 50%;<br>            transform: translate(-50%, -50%);<br>            z-index: 1000;<br>            background-color: rgba(255,255,255,0.95);<br>            padding: 25px 30px;<br>            border-radius: 10px;<br>            box-shadow: 0 3px 10px rgba(0,0,0,0.3);<br>            font-size: 1.2em;<br>        }<br>        /* 按钮和选择框样式 */<br>        button, select {<br>            margin: 5px;<br>            padding: 8px 15px;<br>            border: 1px solid #ddd;<br>            border-radius: 4px;<br>            background-color: #f8f8f8;<br>            cursor: pointer;<br>            font-size: 0.9em;<br>            transition: all 0.3s;<br>        }<br>        /* 按钮和选择框悬停样式 */<br>        button:hover, select:hover {<br>            background-color: #e8e8e8;<br>        }<br>        /* 信息面板样式，设置绝对定位，隐藏显示 */<br>        #info-panel {<br>            position: absolute;<br>            top: 60px;<br>            left: 10px;<br>            z-index: 100;<br>            background-color: rgba(255,255,255,0.9);<br>            padding: 15px;<br>            border-radius: 8px;<br>            box-shadow: 0 2px 5px rgba(0,0,0,0.2);<br>            max-width: 300px;<br>            max-height: 70vh;<br>            overflow-y: auto;<br>            display: none;<br>        }<br>        /* 信息面板标题样式 */<br>        #info-panel h2 {<br>            margin-top: 0;<br>            color: #333;<br>            font-size: 1.2em;<br>            border-bottom: 1px solid #eee;<br>            padding-bottom: 5px;<br>        }<br>        /* 信息面板段落样式 */<br>        #info-panel p {<br>            font-size: 0.9em;<br>            line-height: 1.5;<br>            color: #555;<br>        }<br>        /* 关闭信息面板按钮样式 */<br>        #close-info {<br>            position: absolute;<br>            top: 5px;<br>            right: 5px;<br>            background: none;<br>            border: none;<br>            font-size: 1.2em;<br>            cursor: pointer;<br>            color: #999;<br>        }<br>        /* 媒体查询，适配小屏幕设备 */<br>        @media (max-width: 768px) {<br>            #header h1 {<br>                font-size: 1.2em;<br>            }<br>            #controls {<br>                bottom: 10px;<br>                padding: 8px 10px;<br>            }<br>            button, select {<br>                padding: 6px 10px;<br>                font-size: 0.8em;<br>            }<br>            #info-panel {<br>                max-width: 250px;<br>                top: 50px;<br>            }<br>        }<br>    &lt;/style&gt;<br>    &lt;!-- 高德地图安全配置 --&gt;<br>    &lt;script&gt;<br>        window._AMapSecurityConfig = {<br>            securityJsCode: '857cf1f9e7ba6f73a1127c1f26c9b8a8'<br>        };<br>    &lt;/script&gt;<br>    &lt;!-- 引入高德地图 API --&gt;<br>    &lt;script src="https://webapi.amap.com/maps?v=2.0&amp;key=51b94481d4c098a0c91f5df4ae63d17f"&gt;&lt;/script&gt;<br>    &lt;!-- 引入 p5.js 库 --&gt;<br>    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;!-- 加载提示 --&gt;<br>    &lt;div id="loading"&gt;地图加载中，请稍候...&lt;/div&gt;<br>    &lt;!-- 头部标题 --&gt;<br>    &lt;div id="header"&gt;<br>        &lt;h1&gt;韩城历史地理可视化系统&lt;/h1&gt;<br>    &lt;/div&gt;<br>    &lt;!-- 信息面板 --&gt;<br>    &lt;div id="info-panel"&gt;<br>        &lt;button id="close-info" onclick="closeInfoPanel()"&gt;×&lt;/button&gt;<br>        &lt;div id="info-content"&gt;&lt;/div&gt;<br>    &lt;/div&gt;<br>    &lt;!-- 地图容器 --&gt;<br>    &lt;div id="map-container"&gt;&lt;/div&gt;<br>    &lt;!-- p5 画布 --&gt;<br>    &lt;div id="p5-canvas"&gt;&lt;/div&gt;<br>    &lt;!-- 控制按钮 --&gt;<br>    &lt;div id="controls"&gt;<br>        &lt;button onclick="changeScene(-1)"&gt;上一场景&lt;/button&gt;<br>        &lt;button onclick="changeScene(1)"&gt;下一场景&lt;/button&gt;<br>        &lt;select id="scene-selector" onchange="jumpToScene(this.value)"&gt;<br>            &lt;option value="0"&gt;时间轴概览&lt;/option&gt;<br>            &lt;option value="1"&gt;上古时期&lt;/option&gt;<br>            &lt;option value="2"&gt;西周时期&lt;/option&gt;<br>            &lt;option value="3"&gt;春秋战国&lt;/option&gt;<br>            &lt;option value="4"&gt;秦汉时期&lt;/option&gt;<br>            &lt;option value="5"&gt;唐宋元明&lt;/option&gt;<br>            &lt;option value="6"&gt;近现代&lt;/option&gt;<br>            &lt;option value="7"&gt;考古发现&lt;/option&gt;<br>            &lt;option value="8"&gt;黄河流域&lt;/option&gt;<br>        &lt;/select&gt;<br>        &lt;button onclick="toggleInfoPanel()"&gt;显示详细信息&lt;/button&gt;<br>    &lt;/div&gt;<br>    &lt;!-- JavaScript 代码 --&gt;<br>    &lt;script&gt;<br>        // 初始化地图<br>        var map = new AMap.Map('map-container', {<br>            zoom: 10, // 地图显示的缩放级别<br>            center: [110.82, 36.90] // 地图显示的中心点坐标<br>        });<br><br>        // 隐藏加载提示<br>        map.on('complete', function() {<br>            document.getElementById('loading').style.display = 'none';<br>        });<br><br>// 韩城历史数据<br>const kanchengHistory = {<br>    timeline: [<br>        { <br>            dynasty: "上古时期", <br>            time: "约公元前21世纪-前11世纪",<br>            content: "韩城在夏、商时期被称为'龙门'，是大禹治水'凿龙门'的传说发生地。",<br>            details: "《尚书·禹贡》记载:'导河积石，至于龙门'。龙门山位于今韩城与山西河津之间，黄河在此处峡谷宽度仅80米，形成'龙门三激浪'的壮观景象。",<br>            coordinates: [110.82, 36.90]<br>        },<br>        { <br>            dynasty: "西周时期", <br>            time: "约公元前11世纪-前771年",<br>            content: "韩国建立，成为周代重要封国，《诗经·大雅·韩奕》记载了韩侯受封之事。",<br>            details: "《韩奕》是《诗经》中记载韩城历史最早的文献:'奕奕梁山，维禹甸之...韩侯受命,王亲命之'。西周韩国都城位于今韩城市区南10公里的韩原上。",<br>            coordinates: [110.75, 36.85]<br>        },<br>        { <br>            dynasty: "春秋战国", <br>            time: "公元前770年-前221年",<br>            content: "少梁邑时期，秦晋多次在此交战。梁带村发现芮国墓葬群。",<br>            details: "《左传》记载:'秦伯伐晋，取少梁'。少梁是韩城在春秋时期的名称。2005年发现的梁带村芮国墓葬群出土了大量青铜器，证明这里是芮国后期都城所在地。",<br>            coordinates: [110.83, 36.98]<br>        },<br>        { <br>            dynasty: "秦汉时期", <br>            time: "公元前221年-公元220年",<br>            content: "秦惠文王十一年(前327)置夏阳县，后改韩城县。",<br>            details: "《史记·秦本纪》:'十一年，县义渠...更名少梁曰夏阳'。汉代司马迁是夏阳人(今韩城芝川镇)，其《史记》多次提及韩城地区。",<br>            coordinates: [110.82, 36.90]<br>        },<br>        { <br>            dynasty: "唐宋元明", <br>            time: "618年-1644年",<br>            content: "多次更名，最终定为韩城县，成为关中东北部重镇。",<br>            details: "隋开皇十八年(598)改称韩城县，后唐明宗天成元年(926)复名韩城县。元代建筑文庙、城隍庙保存至今。明代韩城商业繁荣，有'小北京'之称。",<br>            coordinates: [110.82, 36.90]<br>        },<br>        { <br>            dynasty: "近现代", <br>            time: "1644年至今",<br>            content: "2005年发现梁带村两周墓葬群，2012年发现陶渠遗址。",<br>            details: "梁带村芮国墓葬群被评为'2005年全国十大考古发现'。陶渠遗址被认为是周平王东迁途中的'京师'所在地，可能是传说中的'京国'都城。",<br>            coordinates: [110.83, 36.98]<br>        }<br>    ],<br>    archaeologySites: [<br>        { <br>            name: "梁带村墓葬群", <br>            location: [110.23, 36.98], <br>            description: "西周晚期至春秋早期芮国贵族墓葬群",<br>            details: "2005年发现，已发掘墓葬1300余座，出土青铜器、玉器等文物2万余件。M27号墓出土的'芮公'青铜器证明这里是芮国后期都城。",<br>            time: "西周晚期-春秋早期(约前9世纪-前7世纪)"<br>        },<br>        { <br>            name: "陶渠遗址", <br>            location: [110.28, 36.95], <br>            description: "西周时期京国都城遗址",<br>            details: "2020年发掘，发现大型建筑基址、青铜器作坊等。学者推测这里可能是周平王东迁时暂住的'京师'，即《诗经》'王命申伯，式是南邦...往近王舅，南土是保'所指之地。",<br>            time: "西周晚期(约前9世纪-前8世纪)"<br>        }<br>    ],<br>    yellowRiverPoints: [<br>        { <br>            name: "黄河壶口瀑布", <br>            lng: 111.85, <br>            lat: 36.04,<br>            description: "黄河上唯一的大瀑布",<br>            details: "位于陕西宜川县与山西吉县交界处，瀑布宽50米，落差20米，是黄河最壮观的景观之一。"<br>        },<br>        { <br>            name: "龙门", <br>            lng: 111.76, <br>            lat: 36.09,<br>            description: "大禹治水凿龙门之处",<br>            details: "《水经注》:'龙门...大禹所凿，广八十步，岩际镌迹尚存'。两岸悬崖对峙，形如门阙，黄河奔流其间。"<br>        }<br>    ]<br>};<br><br>        // 其他函数实现<br>        function changeScene(direction) {<br>            // 实现场景切换逻辑<br>        }<br><br>        function jumpToScene(scene) {<br>            // 实现跳转到指定场景的逻辑<br>        }<br><br>        function toggleInfoPanel() {<br>            // 实现显示/隐藏信息面板的逻辑<br>        }<br><br>        function closeInfoPanel() {<br>            // 实现关闭信息面板的逻辑<br>        }<br>let amap = null; // 初始化为null<br>let currentScene = 0;<br>let p5Canvas = null;<br>let markers = [];<br>let infoWindow = null;<br>let isMapReady = false;<br><br>// 初始化地图<br>function initMap() {<br>    amap = new AMap.Map('map-container', {<br>        center: [110.82, 36.90],<br>        zoom: 10,<br>        viewMode: '2D',<br>        dragEnable: true,<br>        scrollWheel: true<br>    });<br>    <br>    // 添加韩城标记<br>    new AMap.Marker({<br>        position: [110.82, 36.90],<br>        map: amap,<br>        title: '韩城',<br>        content: '&lt;div style="background-color:#fff;padding:5px;border-radius:3px;border:1px solid #ccc;"&gt;韩城&lt;/div&gt;'<br>    });<br>    <br>    // 地图加载完成后设置标志<br>    amap.on('complete', () =&gt; {<br>        document.getElementById('loading').style.display = 'none';<br>        isMapReady = true;<br>        // 确保p5.js已经初始化后再更新视图<br>        if(p5Canvas) {<br>            updateMapView(currentScene);<br>        }<br>    });<br>    <br>    // 创建信息窗体<br>    infoWindow = new AMap.InfoWindow({<br>        isCustom: true,<br>        offset: new AMap.Pixel(0, -30)<br>    });<br>}<br><br>// 基础绘图函数<br>function drawTimeline() {<br>    clear();<br>    background(240, 240, 240, 150);<br>    stroke(0);<br>    strokeWeight(2);<br>    line(50, height/2, width-50, height/2);<br>    <br>    for (let i = 0; i &lt; kanchengHistory.timeline.length; i++) {<br>        let x = p5.prototype.map(i, 0, kanchengHistory.timeline.length-1, 50, width-50);<br>        line(x, height/2-5, x, height/2+5);<br>        fill(0);<br>        textSize(14);<br>        textAlign(CENTER);<br>        text(kanchengHistory.timeline[i].dynasty, x, height/2+25);<br>        textSize(12);<br>        text(kanchengHistory.timeline[i].content, x, height/2+40);<br>    }<br>}<br><br>function drawTimelineEvent(index) {<br>    clear();<br>    background(240, 240, 240, 150);<br>    const event = kanchengHistory.timeline[index];<br>    <br>    fill(0);<br>    textSize(20);<br>    textAlign(CENTER);<br>    text(event.dynasty, width/2, 50);<br>    textSize(16);<br>    text(event.time, width/2, 80);<br>    <br>    textSize(14);<br>    textAlign(LEFT);<br>    text(event.details, 50, 120, width-100, height-150);<br>}<br><br>function drawArchaeology() {<br>    clear();<br>    background(240, 240, 240, 150);<br>    fill(0, 0, 255);<br>    textSize(16);<br>    textAlign(CENTER);<br>    text("韩城考古遗址分布", width/2, 30);<br>    <br>    kanchengHistory.archaeologySites.forEach(site =&gt; {<br>        let x = p5.prototype.map(site.location[0], 110.2, 110.3, 50, width-50);<br>        let y = p5.prototype.map(site.location[1], 36.9, 37.1, height-50, 50);<br>        fill(0, 0, 255);<br>        ellipse(x, y, 12, 12);<br>        fill(0);<br>        textSize(12);<br>        text(site.name, x+15, y);<br>        text(site.description, x+15, y+15);<br>    });<br>}<br><br>function drawYellowRiver() {<br>    clear();<br>    background(240, 240, 240, 150);<br>    fill(0, 100, 200);<br>    textSize(16);<br>    textAlign(CENTER);<br>    text("黄河流域重要地点", width/2, 30);<br>    <br>    kanchengHistory.yellowRiverPoints.forEach(point =&gt; {<br>        let x = p5.prototype.map(point.lng, 111.7, 111.9, 50, width-50);<br>        let y = p5.prototype.map(point.lat, 36.0, 36.1, height-50, 50);<br>        fill(0, 100, 200);<br>        ellipse(x, y, 12, 12);<br>        fill(0);<br>        textSize(12);<br>        text(point.name, x+15, y);<br>        text(point.description, x+15, y+15);<br>    });<br>}<br><br>// 场景切换功能<br>function jumpToScene(index) {<br>    if (index &gt;=0 &amp;&amp; index &lt;=8) {<br>        currentScene = parseInt(index);<br>        document.getElementById('scene-selector').value = currentScene;<br>        <br>        switch(currentScene) {<br>            case 0:<br>                drawTimeline();<br>                break;<br>            case 1:<br>            case 2:<br>            case 3:<br>            case 4:<br>            case 5:<br>                drawTimelineEvent(currentScene - 1);<br>                break;<br>            case 7:<br>                drawArchaeology();<br>                break;<br>            case 8:<br>                drawYellowRiver();<br>                break;<br>            default:<br>                clear();<br>                background(220, 220, 220, 150);<br>                textSize(20);<br>                textAlign(CENTER);<br>                text("场景内容待开发", width/2, height/2);<br>        }<br>        <br>        if(isMapReady) {<br>            updateMapView(currentScene);<br>        }<br>    }<br>}<br><br>// 场景切换按钮<br>function changeScene(dir) {<br>    let newIndex = currentScene + dir;<br>    if (newIndex &gt;=0 &amp;&amp; newIndex &lt;=8) {<br>        jumpToScene(newIndex);<br>    }<br>}<br><br>function updateMapView(sceneIndex) {<br>    if(!amap) return; // 确保地图对象存在<br>    <br>    // 清除所有现有标记<br>    markers.forEach(marker =&gt; {<br>        amap.remove(marker);<br>    });<br>    markers = [];<br>    <br>    switch(sceneIndex) {<br>        case 0: // 时间轴<br>            amap.setZoomAndCenter(10, [110.82, 36.90]);<br>            break;<br>        case 7: // 考古发现<br>            amap.setZoomAndCenter(12, [110.25, 36.96]);<br>            // 添加考古遗址标记<br>            kanchengHistory.archaeologySites.forEach(site =&gt; {<br>                const marker = new AMap.Marker({<br>                    position: site.location,<br>                    map: amap,<br>                    title: site.name<br>                });<br>                <br>                marker.on('click', () =&gt; {<br>                    infoWindow.setContent(`&lt;div style="padding:5px;"&gt;<br>                        &lt;h3&gt;${site.name}&lt;/h3&gt;<br>                        &lt;p&gt;${site.description}&lt;/p&gt;<br>                        &lt;p&gt;${site.details}&lt;/p&gt;<br>                    &lt;/div&gt;`);<br>                    infoWindow.open(amap, site.location);<br>                });<br>                markers.push(marker);<br>            });<br>            break;<br>        case 8: // 黄河流域<br>            amap.setZoomAndCenter(8, [111.00, 35.50]);<br>            // 添加黄河流域标记<br>            kanchengHistory.yellowRiverPoints.forEach(point =&gt; {<br>                const marker = new AMap.Marker({<br>                    position: [point.lng, point.lat],<br>                    map: amap,<br>                    title: point.name<br>                });<br>                <br>                marker.on('click', () =&gt; {<br>                    infoWindow.setContent(`&lt;div style="padding:5px;"&gt;<br>                        &lt;h3&gt;${point.name}&lt;/h3&gt;<br>                        &lt;p&gt;${point.description}&lt;/p&gt;<br>                        &lt;p&gt;${point.details}&lt;/p&gt;<br>                    &lt;/div&gt;`);<br>                    infoWindow.open(amap, [point.lng, point.lat]);<br>                });<br>                markers.push(marker);<br>            });<br>            break;<br>        default:<br>            if(sceneIndex &gt;=1 &amp;&amp; sceneIndex &lt;=5) {<br>                const event = kanchengHistory.timeline[sceneIndex-1];<br>                amap.setZoomAndCenter(12, event.coordinates);<br>                <br>                // 添加历史事件标记<br>                const marker = new AMap.Marker({<br>                    position: event.coordinates,<br>                    map: amap,<br>                    title: event.dynasty<br>                });<br>                <br>                marker.on('click', () =&gt; {<br>                    infoWindow.setContent(`&lt;div style="padding:5px;"&gt;<br>                        &lt;h3&gt;${event.dynasty}&lt;/h3&gt;<br>                        &lt;p&gt;${event.time}&lt;/p&gt;<br>                        &lt;p&gt;${event.content}&lt;/p&gt;<br>                    &lt;/div&gt;`);<br>                    infoWindow.open(amap, event.coordinates);<br>                });<br>                markers.push(marker);<br>            } else {<br>                amap.setZoomAndCenter(10, [110.82, 36.90]);<br>            }<br>    }<br>}<br><br>// 信息面板控制<br>function toggleInfoPanel() {<br>    const panel = document.getElementById('info-panel');<br>    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';<br>    <br>    if(panel.style.display === 'block') {<br>        updateInfoContent();<br>    }<br>}<br><br>function closeInfoPanel() {<br>    document.getElementById('info-panel').style.display = 'none';<br>}<br><br>function updateInfoContent() {<br>    const contentDiv = document.getElementById('info-content');<br>    let content = '';<br>    <br>    if(currentScene === 0) {<br>        content = '&lt;h2&gt;韩城历史时间轴&lt;/h2&gt;';<br>        kanchengHistory.timeline.forEach(event =&gt; {<br>            content += `&lt;p&gt;&lt;strong&gt;${event.dynasty}&lt;/strong&gt; (${event.time}): ${event.content}&lt;/p&gt;`;<br>        });<br>    } else if(currentScene &gt;=1 &amp;&amp; currentScene &lt;=5) {<br>        const event = kanchengHistory.timeline[currentScene-1];<br>        content = `&lt;h2&gt;${event.dynasty}&lt;/h2&gt;<br>                  &lt;p&gt;&lt;strong&gt;时间:&lt;/strong&gt; ${event.time}&lt;/p&gt;<br>                  &lt;p&gt;${event.details}&lt;/p&gt;`;<br>    } else if(currentScene === 7) {<br>        content = '&lt;h2&gt;考古发现&lt;/h2&gt;';<br>        kanchengHistory.archaeologySites.forEach(site =&gt; {<br>            content += `&lt;p&gt;&lt;strong&gt;${site.name}&lt;/strong&gt; (${site.time}): ${site.details}&lt;/p&gt;`;<br>        });<br>    } else if(currentScene === 8) {<br>        content = '&lt;h2&gt;黄河流域重要地点&lt;/h2&gt;';<br>        kanchengHistory.yellowRiverPoints.forEach(point =&gt; {<br>            content += `&lt;p&gt;&lt;strong&gt;${point.name}&lt;/strong&gt;: ${point.details}&lt;/p&gt;`;<br>        });<br>    }<br>    <br>    contentDiv.innerHTML = content;<br>}<br><br>// 初始化函数<br>function setup() {<br>    p5Canvas = createCanvas(window.innerWidth, window.innerHeight);<br>    p5Canvas.parent("p5-canvas");<br>    frameRate(30);<br>    noLoop();<br>    jumpToScene(0);<br>}<br><br>function initialize() {<br>    try {<br>        initMap();<br>        setup();<br>    } catch (e) {<br>        console.error('初始化错误:', e);<br>        document.getElementById('loading').textContent = '系统初始化失败，请刷新页面';<br>    }<br>}<br><br>// 添加DOM完全加载后再初始化<br>document.addEventListener('DOMContentLoaded', function() {<br>    setTimeout(initialize, 100);<br>});<br><br>// 页面加载完成后初始化<br>window.onload = initialize;<br>window.addEventListener('resize', () =&gt; {<br>    resizeCanvas(window.innerWidth, window.innerHeight);<br>    redraw();<br>});<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</p>
            ]]>
        </content>
    </entry>
</feed>
